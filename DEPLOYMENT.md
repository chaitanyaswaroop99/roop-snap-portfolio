# Deployment Guide

Your portfolio website is built with Next.js and is ready to be deployed to **Vercel**.

## ⚠️ Important: Database Requirement

Currently, your project uses a **local file** (`src/data/photos.json`) to save photos and messages. **This will NOT work on Vercel** because Vercel's servers are "ephemeral" (they reset frequently), so your uploads would disappear.

To have a working website online, you **MUST** connect to a real database like **Supabase**.

---

## Step 1: Set up Supabase (Free Database)

1.  Go to [Supabase.com](https://supabase.com/) and sign up.
2.  Click **"New Project"**.
3.  Give it a name (e.g., "Roop Snap Portfolio") and a strong password.
4.  Wait for the database to start.

### Get Your Keys
1.  In your Supabase project dashboard, go to **Project Settings** (gear icon) -> **API**.
2.  Copy the **Project URL**.
3.  Copy the **anon / public** key.

### Create Tables
Go to the **SQL Editor** (terminal icon on the left) in Supabase and run this script to create your tables:

```sql
-- Create photos table
create table photos (
  id bigint generated by default as identity primary key,
  url text not null,
  category text not null,
  created_at timestamp with time zone default timezone('utc'::text, now()) not null
);

-- Create contact_messages table
create table contact_messages (
  id bigint generated by default as identity primary key,
  name text not null,
  email text not null,
  phone text,
  message text not null,
  created_at timestamp with time zone default timezone('utc'::text, now()) not null
);

-- Enable Row Level Security (RLS)
alter table photos enable row level security;
alter table contact_messages enable row level security;

-- Create policies to allow public read access
create policy "Public photos are viewable by everyone" on photos for select using (true);
create policy "Public can insert contact messages" on contact_messages for insert with check (true);

-- Create policies to allow admin full access (simplified for now)
create policy "Allow all operations for now" on photos for all using (true);
create policy "Allow read for messages" on contact_messages for select using (true);
create policy "Allow delete for messages" on contact_messages for delete using (true);
```

---

## Step 2: Deploy to Vercel

1.  Go to [Vercel.com](https://vercel.com/) and sign up/login.
2.  Click **"Add New..."** -> **"Project"**.
3.  Import your GitHub repository (if you pushed your code to GitHub).
    *   *If you haven't pushed to GitHub yet, you can use the Vercel CLI or upload the folder.*

### Configure Environment Variables
In the Vercel project setup screen, look for **"Environment Variables"** and add these:

| Name | Value |
|------|-------|
| `NEXT_PUBLIC_SUPABASE_URL` | *(Paste your Supabase Project URL)* |
| `NEXT_PUBLIC_SUPABASE_ANON_KEY` | *(Paste your Supabase Anon Key)* |
| `ADMIN_ACCESS_KEY` | `roopsnap` |

4.  Click **"Deploy"**.

---

## Step 3: Verify

Once deployed, Vercel will give you a URL (e.g., `roopsnap.vercel.app`).
1.  Go to `/admin` and login with `roopsnap`.
2.  Try uploading a photo. It should now save to Supabase and persist forever!
